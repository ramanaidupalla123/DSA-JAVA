import java.util.*; 
class Node { 
    int data; Node next; 
    Node(int data){ 
        this.data = data; 
        this.next = null; 
    } 
}
class linkedList { 
    Node head, tail;
    int total=0;
    public void insert(int data){ 
        Node newnode = new Node(data); 
        if(head == null){ 
            head = tail = newnode;
            total++;
            return; 
        } 
        tail.next = newnode; 
        tail = newnode;
        total++;
    }
    
    public void insertFirst(int data){
        Node newnode = new Node(data);
        newnode.next = head;
        head = newnode;
        total++;
    }
    
    public void insertAtPosition(int data,int pos){
        Node newnode = new Node(data);
        Node temp=head;
        if(pos <= 1){
            insertFirst(data);
            return;
        }
        if(total<pos){
            insert(data);
            return;
        }
        for(int i=1;i<pos-1;i++){
            temp = temp.next;
        }
        newnode.next = temp.next;
        temp.next = newnode;
        total++;
    }
    
    public void deleteAtLast(){
        if(head==null){
            System.out.println("No Elements : ");
            return;
        }
        if(head==tail){
            head=tail=null;
        }
        else{
            Node temp=head;
            for(int i=1;i<total-1;i++){
                temp = temp.next;
            }
            temp.next=null;
            tail=temp;
        }
        total--;
    }
    
    public void deleteAtFirst(){
        if(head==null){
            System.out.println("No Elements : ");
            return;
        }
        if(head==tail){
            head=tail=null;
        }
        else{
            head=head.next;
        }
        total--;
    }
    
    public void deleteAtPosition(int pos){
        if(head==null){
            System.out.println("No List is there ");
            return;
        }
        if(head==tail){
            head=tail=null;
            total--;
            return;
        }
        if(pos<=1){
            deleteAtFirst();
            return;
        }
        if(pos>=total){
            deleteAtLast();
            return;
        }
        Node temp = head;
        for(int i=1;i<pos-1;i++){
            temp=temp.next;
        }
        Node del = temp.next;
        temp.next = del.next;
        del.next = null;
        total--;
    }
    
    public void display(){ 
        Node temp = head; 
        while(temp != null){ 
            System.out.print(temp.data + " "); 
            temp = temp.next; 
        }
        System.out.println();
    }
    
    public void count(){
        System.out.println("Total Nodes in the List : "+total);
    }
} 
public class Main { 
    public static void main(String[] args){ 
        Scanner sc = new Scanner(System.in);
        linkedList list = new linkedList(); 
        System.out.print("Enter no of Nodes : "); 
        int n = sc.nextInt(); 
        System.out.print("Enter Nodes : "); 
        for(int i = 0; i < n; i++){ 
            list.insert(sc.nextInt()); 
        } 
        list.deleteAtFirst();
        list.count();
        System.out.print("Elements in List : "); 
        list.display(); 
        list.deleteAtLast();
        list.display();
        list.deleteAtPosition(sc.nextInt());
        list.display();
        System.out.println(list.head.data);
        System.out.println(list.tail.data);
        
        System.out.print("Enter node to insert at First : ");
        int b = sc.nextInt();
        list.insertFirst(b);
        list.display();
        System.out.print("Enter node and position to insert : ");
        list.insertAtPosition(sc.nextInt(),sc.nextInt());
        System.out.print("Nodes in the List : ");
        list.display();
        list.count();
        
        
    } 
}
